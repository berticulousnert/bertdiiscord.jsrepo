"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.RegexFilter = void 0;
const Match_1 = require("./Match");
/** A filter which work with regexes */
class RegexFilter {
    constructor(path, filter, expr) {
        this.path = path;
        this.filter = filter;
        this.expr = expr;
    }
    /** Filter if regex is equal */
    equal(regex) {
        return this.compare("$eq", regex);
    }
    /** Filter if regexis not equal */
    notEqual(regex) {
        return this.compare("$ne", regex);
    }
    /** Filter if the comparison return true */
    compare(operator, regex) {
        const match = new Match_1.Match(this.filter);
        this.expr[operator] = [this.path, {
                $literal: regex
            }];
        return match;
    }
}
exports.RegexFilter = RegexFilter;
