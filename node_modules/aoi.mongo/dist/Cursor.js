"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.Cursor = void 0;
const Transformer_1 = require("./Transformer");
/**
 * A mongodb FindCursor wrapper for doc
 */
class Cursor {
    /**
     * @param cursor The mongodb FindCursor to wrap
     */
    constructor(cursor) {
        if (typeof cursor !== "object" || cursor === null)
            throw new TypeError("cursor must be a non-null object");
        this.cursor = cursor;
    }
    async *[Symbol.asyncIterator]() {
        for await (const document of this.cursor) {
            yield (0, Transformer_1.transform)(document);
        }
    }
}
exports.Cursor = Cursor;
