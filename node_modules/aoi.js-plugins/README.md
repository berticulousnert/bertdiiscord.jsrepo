# Aoi.js Plugins!

## Requires Node V16+
## Downloading:
```
npm i aoi.js-plugins@latest
```
## Handler
### Usage:
```js
const aoijs = require("aoi.js")
const plugin = require("aoi.js-plugins")

const bot = new aoijs.Bot({
token: "your very secret token", //Discord Bot Token
prefix: "abcdefg", //Discord Bot Prefix
intents: "all" //Discord Intents
})

const handler = new plugin.Handler({
  bot:bot,// your bot client. (required)
  aoijs:aoijs,// aoi.js variable you have defined as. (required)
  varfile:"vars.js",//variables file.
  callbackfile:"callbacks.js",//callbacks file.
  commandsfolder:"/commands/",//commands folder.
  statusfolder:"/status/"//statuses folder.
})
```

`vars.js`:
```js
module.exports = {
  hello:"Hi",
  ok:"ok indeed"
}
```

`callbacks.js`:
```js
module.exports = (bot) => {
  bot.onMessage();
  bot.onInteractionCreate();
}
```

`status folder`: 
`status1.js`:
```js
module.exports=({
  text:"Hello World!",
  type:"PLAYING",
  time:"12"
})
```

`status2.js`:
```js
module.exports=({
  text:"with Bumblebee!",
  type:"PLAYING",
  time:"12"
})
```
and so on...

## Dashboard

### Useage:
```js
const plugins=require("aoi.js-plugins")

const dash = new plugins.Dash({
  bot:bot,//your bot
  clientID:"943831369832861746",//client id
  clientSecret:process.env.s,//client secret
  redirectURI:"https://example.com/callback"//redirect uri
  //see example dashboard for more info! https://github.com/Bumblebee-3/Aoi.js-dashboard-with-aoi.js-plugins
  
})
```


### Functions Till Now:
#### All these are Dash functions.
- `generateURL()`=> create a login link for the bot.
- `getAccessToken(code)`=> from the code getting the user access token.
- `getUser(accesstoken)` => Getting basic details of the user.
- `getGuilds(accesstoken)`=> Getting users guilds.
- `getAdminGuilds(accesstoken)`=> Getting Guilds where the user is admin.
- `getCommonAdminGuilds(accesstoken)`=> Getting guilds where user is admin and bot is there.

This dashboard extension was made with help of ["Discord-oauth2"](https://www.npmjs.com/package/discord-oauth2) to make the creation of dashboards easier for all. 

Example dashboard: [here](https://github.com/Bumblebee-3/Aoi.js-dashboard-with-aoi.js-plugins)

For more inermediate developers, who want to use more functions of discord-oauth2 with aoi.js-plugins you can use this
```js
const oauth = dash.oauth
```
and with that using discord-oauth2 callbacks.